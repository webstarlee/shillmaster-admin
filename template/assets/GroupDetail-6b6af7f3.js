import{D as M,Q as D,t as C,r as S,o as p,v as h,i as s,a as l,w as t,y as f,I as U,F as V,G as v,g as r,J as n,K as B,L as _,H as T,M as O,N as g,A as k,C as y,h as i,E as w,P as I,O as F,x as G,B as A}from"./index-5dc5317e.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";const W=M(),c=D(),{group:d}=C(c),j={data(){return{tab:null,search:"",search_user:"",banDialog:!1,banMode:"Off",shillMode:"Off",headers:[{title:"Symbol",align:"start",key:"symbol"},{title:"Shared Marketcap",align:"start",key:"marketcap"},{title:"Current Marketcap",align:"start",key:"current_marketcap"},{title:"ATH",align:"start",key:"ath"}],user_headers:[{title:"Fullname",align:"start",key:"fullname"},{title:"Username",align:"start",key:"username"},{title:"User Id",align:"start",key:"user_id"}],group:[],group_id:null,user_id:null}},created(){const u=this.$route.params.group_id;this.group_id=u,c.getById(u).then(()=>{this.group=d.value,this.banMode=d.value.setting.ban_mode?"On":"Off",this.shillMode=d.value.setting.shill_mode?"On":"Off"})},methods:{openBanDialog(u){this.user_id=u,this.group_id=this.group.group_id,this.banDialog=!0},async removeBan(){await W.userUnban(this.user_id,this.group_id),c.getById(this.group_id).then(()=>{this.group=d.value}),this.group_id=null,this.user_id=null,this.banDialog=!1},cancelRemove(){this.group_id=null,this.user_id=null,this.banDialog=!1},async settingUpdate(){await c.updateSetting(this.banMode,this.shillMode,this.group_id),c.getById(this.group_id).then(()=>{this.group=d.value})}}},R={class:"text-subtitle-1 text-medium-emphasis"},P={class:"text-subtitle-1 text-medium-emphasis"},E={class:"text-subtitle-1 text-medium-emphasis"},H=r("thead",null,[r("tr",null,[r("th",{id:"ban_no_column",class:"text-left"},"No"),r("th",{id:"ban_fullname_column",class:"text-left"},"Fullname"),r("th",{id:"ban_username_column",class:"text-left"},"Username"),r("th",{id:"ban_user_id_column",class:"text-left"},"User Id"),r("th",{id:"action_column",class:"text-left"},"Action")])],-1),L={key:1},z=r("td",{colspan:"5",class:"text-center"},"No Groups",-1),J=[z];function K(u,o,Q,q,a,m){const b=S("v-data-table");return p(),h(V,null,[s(" Group Detail page "),l(f,null,{default:t(()=>[l(v,null,{default:t(()=>[r("div",R,"Group Title: "+n(a.group.title),1),r("div",P,"Group Id: "+n(a.group.group_id),1),r("div",E,"Total Projects: "+n(a.group.total_shills),1)]),_:1}),l(B,{modelValue:a.tab,"onUpdate:modelValue":o[0]||(o[0]=e=>a.tab=e),"bg-color":"blue"},{default:t(()=>[l(_,{value:"setting"},{default:t(()=>[s("Setting")]),_:1}),l(_,{value:"all_projects"},{default:t(()=>[s("All Projects")]),_:1}),l(_,{value:"users"},{default:t(()=>[s("Users")]),_:1}),l(_,{value:"bans"},{default:t(()=>[s("Bans")]),_:1})]),_:1},8,["modelValue"]),l(T,null,{default:t(()=>[l(O,{modelValue:a.tab,"onUpdate:modelValue":o[5]||(o[5]=e=>a.tab=e)},{default:t(()=>[l(g,{value:"setting"},{default:t(()=>[l(f,{width:"400"},{title:t(()=>[s(" Group Setting ")]),text:t(()=>[l(k,{modelValue:a.shillMode,"onUpdate:modelValue":o[1]||(o[1]=e=>a.shillMode=e),"hide-details":"","true-value":"On",color:"success","false-value":"Off",label:`Shill Mode Turned ${a.shillMode}`},null,8,["modelValue","label"]),l(k,{modelValue:a.banMode,"onUpdate:modelValue":o[2]||(o[2]=e=>a.banMode=e),"hide-details":"","true-value":"On",color:"success","false-value":"Off",label:`Ban Mode Turned ${a.banMode}`},null,8,["modelValue","label"])]),default:t(()=>[l(y,null,{default:t(()=>[l(i,{variant:"tonal","prepend-icon":"mdi-check-circle",class:"px-5",color:"success",onClick:m.settingUpdate},{default:t(()=>[s("Save")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),l(g,{value:"all_projects"},{default:t(()=>[l(w,{modelValue:a.search,"onUpdate:modelValue":o[3]||(o[3]=e=>a.search=e),label:"Search",class:"mt-2",density:"compact","append-inner-icon":"mdi-magnify","hide-details":"","single-line":""},null,8,["modelValue"]),l(b,{headers:a.headers,items:a.group.latest_shills,"sort-by":[{key:"no",order:"asc"}],search:a.search},{"item.symbol":t(({item:e})=>[l(i,{variant:"plain",href:e.raw.pair_url,target:"blink"},{default:t(()=>[s(n(e.raw.symbol)+" ",1),l(I,{activator:"parent",scrim:"",location:"top"},{default:t(()=>[s(n(e.raw.token),1)]),_:2},1024)]),_:2},1032,["href"])]),"item.marketcap":t(({item:e})=>[s(n(u.$numFormatWithDollar(e.raw.marketcap)),1)]),"item.current_marketcap":t(({item:e})=>[s(n(u.$isActive(e.raw.status)?`${u.$numFormatWithDollar(e.raw.current_marketcap)}
                                                        (${u.$getMultiple(e.raw.current_marketcap,e.raw.marketcap)})`:"removed"),1)]),"item.ath":t(({item:e})=>[s(n(u.$numFormatWithDollar(e.raw.ath))+" ("+n(u.$getMultiple(e.raw.ath,e.raw.marketcap))+") ",1)]),"no-data":t(()=>[s(" no data ")]),_:1},8,["headers","items","search"])]),_:1}),l(g,{value:"users"},{default:t(()=>[l(w,{modelValue:a.search_user,"onUpdate:modelValue":o[4]||(o[4]=e=>a.search_user=e),label:"Search",class:"mt-2",density:"compact","append-inner-icon":"mdi-magnify","hide-details":"","single-line":""},null,8,["modelValue"]),l(b,{headers:a.user_headers,items:a.group.users,"sort-by":[{key:"no",order:"asc"}],search:a.search_user},{"no-data":t(()=>[s(" no data ")]),_:1},8,["headers","items","search"])]),_:1}),l(g,{value:"bans"},{default:t(()=>[l(F,null,{default:t(()=>[H,r("tbody",null,[a.group.bans.length>0?(p(!0),h(V,{key:0},G(a.group.bans,(e,x)=>(p(),h("tr",{key:e.no},[r("td",null,n(x+1),1),r("td",null,n(e.fullname),1),r("td",null,n(e.username),1),r("td",null,n(e.user_id),1),r("td",null,[l(i,{color:"red",icon:"mdi-delete",onClick:X=>m.openBanDialog(e.user_id),title:"Remove Warning",size:"x-small"},null,8,["onClick"])])]))),128)):(p(),h("tr",L,J))])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(U,{modelValue:a.banDialog,"onUpdate:modelValue":o[6]||(o[6]=e=>a.banDialog=e),persistent:"",width:"auto"},{default:t(()=>[l(f,null,{default:t(()=>[l(v,{class:"text-h5"},{default:t(()=>[s(" Do you want to unBan this user? ")]),_:1}),l(y,null,{default:t(()=>[l(A),l(i,{color:"green-darken-1",variant:"text",onClick:m.cancelRemove},{default:t(()=>[s(" Disagree ")]),_:1},8,["onClick"]),l(i,{color:"red",variant:"text",onClick:m.removeBan},{default:t(()=>[s(" Agree ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const $=N(j,[["render",K]]);export{$ as default};
